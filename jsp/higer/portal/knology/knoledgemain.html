<!DOCTYPE html>
<html>
<script type="text/javascript" src="js/jquery-1.8.2.min.js"></script>
<script type="text/javascript">
		$(function(){
			adjust();
	        var timeout = null;//onresize触发次数过多，设置定时器
	        $(window).resize(function(){
	        	
	        	clearTimeout(timeout);
	            timeout = setTimeout(function () { window.location.reload(); }, 100);//页面大小变化，重新加载页面以刷新MAP
	        })
	        
	 
	        //获取MAP中元素属性
	        function adjust() {
	        	
	            var map = document.getElementById("cribMap");
	            var element = map.childNodes;
	            var itemNumber = element.length / 2;
	            for (var i = 0; i < itemNumber - 1; i++) {
	                var item = 2 * i + 1;
	                var oldCoords = element[item].coords;
	                var newcoords = adjustPosition(oldCoords);
	                element[item].setAttribute("coords", newcoords);
	            }
	            var test = element;
	        }
	 
	        //调整MAP中坐标
	        function adjustPosition(position) {
	            var pageWidth = document.body.clientWidth;//获取页面宽度
	            var pageHeith = document.body.clientHeight;//获取页面高度
	 
	            var imageWidth = 1920;	//图片的长宽
	            var imageHeigth = 720;
	 
	            var each = position.split(",");
	            //获取每个坐标点
	            for (var i = 0; i < each.length; i++) {
	                each[i] = Math.round(parseInt(each[i]) * pageWidth / imageWidth).toString();//x坐标
	                i++;
	                each[i] = Math.round(parseInt(each[i]) * pageHeith / imageHeigth).toString();//y坐标
	            }
	            //生成新的坐标点
	            var newPosition = "";
	            for (var i = 0; i < each.length; i++) {
	                newPosition += each[i];
	                if (i < each.length - 1) {
	                    newPosition += ",";
	                }
	            }
	            return newPosition;
	        }
		})
	    
</script>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>

</head>
<body style="margin:0px;padding:0px;">
	<img width='100%' height='100%' id="content" src="img/zstpzt.png" usemap="#mainSystem">
        <map name="mainSystem" id="cribMap">
            <area alt="员工经验湖" shape="rect" target="_self" href="../../../spa/cube/index.html#/main/cube/tree?id=3503" coords="70,170,350,320">
            <area alt="专业知识树" shape="rect" target="_self" href="../../../spa/cube/index.html#/main/cube/tree?id=3502" coords="70,480,350,600">
            <area alt="岗位知识串" shape="rect" target="_self" href="../../../spa/cube/index.html#/main/cube/tree?id=7501" coords="1575,115,1825,250">
            <area alt="实践工作流" shape="rect" target="_self" href="../../../spa/cube/index.html#/main/cube/tree?id=3504" coords="1575,460,1825,580">
        </map>
</body>
</html>